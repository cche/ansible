---
# tasks file for neovim

- name: Install neovim
  ansible.builtin.homebrew:
    name: neovim
    state: latest
    options: HEAD
  tags:
    - neovim

- name: Install config
  ansible.builtin.git:
    repo: git@github.com:cche/nvim.git
    dest: "{{ lookup('env', 'HOME') }}/src/github/nvim"
  tags:
    - neovim
    - dotfiles

- name: Link neovim configuration
  ansible.builtin.file:
    src: "{{ lookup('env', 'HOME') }}/src/github/nvim"
    dest: "{{ lookup('env', 'HOME') }}/.config/nvim"
    state: link

- name: Install Lua
  ansible.builtin.homebrew:
    name: 
      - lua
      - luarocks
    state: latest
